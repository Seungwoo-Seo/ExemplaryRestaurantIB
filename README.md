# ëª¨ìŒ - ì„œìš¸ ëª¨ë²”ìŒì‹ì  ì°¾ê¸°

> ì„œìš¸ì‹œì—ì„œ ì§€ì •í•œ ì¼ë°˜ìŒì‹ì  ë° ì§‘ë‹¨ê¸‰ì‹ì†Œ ì¤‘ ìœ„ìƒê´€ë¦¬ ë° ê³ ê° ì„œë¹„ìŠ¤ ìˆ˜ì¤€ì´ ìš°ìˆ˜í•œ ì—…ì†Œë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤

<p align="center">
  <img src="https://github.com/Seungwoo-Seo/ExemplaryRestaurantIB/assets/72753868/f7674e21-7dab-4d82-b0f3-17434679f683" width="130">
  <img src="https://github.com/Seungwoo-Seo/ExemplaryRestaurantIB/assets/72753868/e50718e4-8afc-4c1d-bbce-ef2a8aca5024" width="130">
  <img src="https://github.com/Seungwoo-Seo/ExemplaryRestaurantIB/assets/72753868/90ae0dcd-99ab-462b-b0a1-b3653c8827cc" width="130">
  <img src="https://github.com/Seungwoo-Seo/ExemplaryRestaurantIB/assets/72753868/a7fb2876-dc56-4ce7-a9cc-1c5dd1e99f89" width="130">
  <img src="https://github.com/Seungwoo-Seo/ExemplaryRestaurantIB/assets/72753868/0db88594-bb32-46ec-8346-3ce1b01da748" width="130">
  <img src="https://github.com/Seungwoo-Seo/ExemplaryRestaurantIB/assets/72753868/184e3b7d-8b74-4228-b2f3-767c618a9e7d" width="130">
</p>

## ğŸ“± ì„œë¹„ìŠ¤

- ìµœì†Œ ë²„ì „ : iOS 15.0
- ê°œë°œ ì¸ì› : 1ì¸
- ê°œë°œ ê¸°ê°„ : 2023.03.03 ~ 2023.05.07 (2ê°œì›”)


## ğŸš€ ì„œë¹„ìŠ¤ ê¸°ëŠ¥

- ì´ë©”ì¼ íšŒì›ì¸ì¦ ê¸°ëŠ¥ ì œê³µ
- ëª¨ë²”ìŒì‹ì  ì§€ì • í˜„í™© API ê¸°ë°˜ ì„œìš¸ì‹œ ì§€ì—­êµ¬ ë³„ ëª¨ë²”ìŒì‹ì  ì •ë³´ ì œê³µ
- ê²€ìƒ‰/ì§€ë„/ì°œ/ë¦¬ë·°(ë³„ì , ì‚¬ì§„, í…ìŠ¤íŠ¸) ê¸°ëŠ¥ ì œê³µ


## ğŸ›  ì‚¬ìš© ê¸°ìˆ 

- Swift
- Foundation, UIKit, PhotosUI, CoreLocation
- MVC, Singleton, Delegate Pattern
- SwiftyJSON, PromiseKit, SnapKit, Cosmos, Kingfisher, Tabman, Lottie
- Storyboard, CodeBaseUI, AutoLayout, URLSession, PHPicker, ImagePicker, CLGeocoder
- Firebase Auth, Firebase RealtimeDatabase, Firebase Storage


## ğŸ’» í•µì‹¬ ì„¤ëª…

- Firebase Auth, Firebase RealtimeDatabaseë¥¼ í™œìš©í•´ OAuth 2.0 ê¸°ë°˜ `ì´ë©”ì¼ íšŒì› ì¸ì¦` êµ¬í˜„
- URLSessionì„ ì‚¬ìš©í•´ `REST API` í†µì‹  êµ¬í˜„
- DispatchGroup, SwiftyJSON, Notificationì„ í™œìš©í•´ `25ê°œ API ì‘ë‹µ ê°’ í•¸ë“¤ë§`
- Firebase RealtimeDatabase, Firebase Storageë¥¼ í™œìš©í•´ ì°œ, ë¦¬ë·° CRUDë¥¼ êµ¬í˜„
- ì§€ì—­êµ¬ë¥¼ ì„ íƒí•˜ê¸° ìœ„í•œ `BottomSheet` êµ¬í˜„, Delegate Patternì„ í†µí•´ `ViewControllerì™€ì˜ í†µì‹ ` êµ¬í˜„
- Kakao Maps SDK, CLGeocoderë¥¼ ì‚¬ìš©í•˜ì—¬ `ì§€ë„` ë° `ë§ˆì»¤` êµ¬í˜„
- ImagePickerë¥¼ ì‚¬ìš©í•´ ì¹´ë©”ë¼ êµ¬í˜„, ì´¬ì˜í•œ ì‚¬ì§„ì„ ì•¨ë²”ì— ì €ì¥í•˜ê¸° ìœ„í•´ì„œ `ê¶Œí•œ ì¸ì¦` êµ¬í˜„
- PHPickerë¥¼ ì‚¬ìš©í•´ `ë¯¸ë¦¬ ì €ì¥ëœ ì´ë¯¸ì§€ load` êµ¬í˜„


## ğŸš¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

<!-- í”„ë¡œì íŠ¸ ì¤‘ ë°œìƒí•œ ë¬¸ì œì™€ ê·¸ í•´ê²° ë°©ë²•ì— ëŒ€í•œ ë‚´ìš©ì„ ê¸°ë¡í•œë‹¤. -->
### 1. ëª¨ë²”ìŒì‹ì  ì§€ì • í˜„í™© APIì— ìš”ì²­ í›„ ì‘ë‹µ ë°›ì€ ë°ì´í„°ë¥¼ íŒŒì‹±ê¹Œì§€ ì„±ê³µí–ˆì§€ë§Œ UIì— ì ìš©ë˜ì§€ ì•Šì•˜ë˜ ì´ìŠˆ
- **ë¬¸ì œ ì›ì¸**</br>
ë™ì‹œì„±ì— ëŒ€í•œ ê°œë… ë¯¸ì¸ì§€ë¡œ ì¸í•´ íŒŒì‹±í•œ ë°ì´í„°ë¥¼ Viewê°€ ì‚¬ìš©í•˜ëŠ” ë°°ì—´ì— ì¶”ê°€ë§Œ í•˜ê³  UI ì—…ë°ì´íŠ¸ ë¡œì§ì„ êµ¬í˜„í•˜ì§€ ì•Šì€ ìƒí™©ì´ ì›ì¸

- **í•´ê²° ë°©ë²•**</br>
ë™ì‹œì„±ì— ëŒ€í•´ í•™ìŠµ, DispatchGroupì„ ì‚¬ìš©í•´ ì‘ë‹µê°’ì´ ëª¨ì˜€ì„ ë•Œ Notificationìœ¼ë¡œ UI ì—…ë°ì´íŠ¸ ë©”ì„œë“œ í˜¸ì¶œí•´ì„œ í•´ê²°
~~~swift
func fetchData() {
    let group = DispatchGroup()
    var storeList: [Store] = []
    
    for (gooURL, goo) in gooUrlList {
        let url = URL(string: "http://openAPI.\(gooURL):8088/\(APIKey.key)/json/\(goo)ModelRestaurantDesignate/1/1000/")!
        
        group.enter()
        URLSession.shared.dataTask(with: url) { data, response, error in
            if let error = error {
                print("âŒ", error.localizedDescription)
                group.leave()
                return
            }
            
            guard let statusCode = (response as? HTTPURLResponse)?.statusCode,
                  (200...299).contains(statusCode) else {
                print("âŒ", "response Error")
                group.leave()
                return
            }
            
            guard let data = data else {
                print("âŒ", "data Error")
                group.leave()
                return
            }
            
            do {
                let json = try JSON(data: data)
                let row = json["\(goo)ModelRestaurantDesignate"]["row"]
                
                for (_, subJson): (_, JSON) in row {
                    guard let gooCode = subJson["CGG_CODE"].string,
                          let assignationNumber = subJson["ASGN_SNO"].string,
                          let signUpDay = subJson["APPL_YMD"].string,
                          let assignationSelectedDay = subJson["ASGN_YMD"].string,
                          let name = subJson["UPSO_NM"].string,
                          let roadAddress = subJson["SITE_ADDR_RD"].string,
                          let address = subJson["SITE_ADDR"].string,
                          let permissionNumber = subJson["PERM_NT_NO"].string,
                          let businessType = subJson["SNT_UPTAE_NM"].string else {
                        print("ë°ì´í„° íŒŒì‹± error")
                        continue
                    }
                    
                    // ì´ê±´ ì—†ëŠ”ê²Œ ë§ìŒ
                    let mainMenu = subJson["MAIN_EDF"].string ?? "ì—†ìŒ"
                    let phoneNumber = subJson["UPSO_SITE_TELNO"].string ?? "ì—†ìŒ"
                    
                    let uid = self.fetchData_makeUid(permissionNumber,
                                                     assignationNumber,
                                                     signUpDay,
                                                     assignationSelectedDay)
                    
                    let store = Store(gooCode: gooCode,
                                      assignationNumber: assignationNumber,
                                      signUpDay: signUpDay,
                                      assignationSelectedDay: assignationSelectedDay,
                                      name: name,
                                      roadAddress: roadAddress,
                                      address: address,
                                      permissionNumber: permissionNumber,
                                      businessType: businessType,
                                      mainMenu: mainMenu,
                                      phoneNumber: phoneNumber,
                                      uid: uid)
                    
                    
                    storeList.append(store)
                }
            } catch {
                print("âŒ", "íŒŒì‹± ì—ëŸ¬")
            }
            group.leave()
        }
        .resume()
    }
    
    group.notify(queue: .main) { [weak self] in
        guard let self = self else {return}
        self.storeList = storeList
        
        print(self.storeList.count)
        
        NotificationCenter.default.post(name: NSNotification.Name("fetchDataCompleted"), object: nil)
    }
}
~~~


### 2. UITableViewCellì— Kakao MapViewë¥¼ ë„£ì—ˆì„ ë•Œ ìŠ¤í¬ë¡¤ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì•˜ë˜ ì´ìŠˆ
- **ë¬¸ì œ ì›ì¸**</br>
UITableViewì™€ MapView ëª¨ë‘ ìŠ¤í¬ë¡¤ë·°ì˜ í•˜ìœ„ í´ë˜ìŠ¤, ìŠ¤í¬ë¡¤ì´ ì¤‘ì²©ë˜ì–´ ì–´ë–¤ ìŠ¤í¬ë¡¤ë·°ë¥¼ ìŠ¤í¬ë¡¤í•´ì•¼ í•˜ëŠ”ì§€ ëª¨í˜¸í•œ ìƒí™©ì´ ì›ì¸

- **í•´ê²° ë°©ë²•**</br>
Custom TableViewë¥¼ ë§Œë“¤ê³  `touchesShouldCancel(in:)` ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ MapViewì¼ ë• ìŠ¤í¬ë¡¤í•˜ì§€ ì•ŠëŠ” ë°©ë²•ìœ¼ë¡œ í•´ê²°
~~~swift
class StoreInfoTableView: UITableView {

    override func touchesShouldCancel(in view: UIView) -> Bool {
        if view.tag == 20090806 {
            return false
        } else if view is UIButton {
            return true
        }
        return super.touchesShouldCancel(in: view)
    }

}
~~~

## ğŸ“ íšŒê³ 
<!-- í”„ë¡œì íŠ¸ë¥¼ ë§ˆë¬´ë¦¬í•˜ë©´ì„œ ëŠë‚€ ì†ŒíšŒ, ê°œì„ ì , ë‹¤ìŒì— ì‹œë„í•´ë³´ê³  ì‹¶ì€ ê²ƒ ë“±ì„ ì •ë¦¬í•œë‹¤. -->
- ë™ì‹œì„±ì— ëŒ€í•´ì„œ í•™ìŠµ
- ì½œë°± ì§€ì˜¥ì„ ê²½í—˜
- ViewControllerê°€ ì»¤ì§ˆìˆ˜ë¡ ê´€ë¦¬í•˜ê¸° í˜ë“¤ì—ˆê³ , í•„ìš”í•œ ë©”ì„œë“œë¥¼ ì°¾ê³  ìœ ì§€ë³´ìˆ˜ í•˜ê¸° í˜ë“¤ë‹¤ëŠ” ê²ƒì„ ê²½í—˜
